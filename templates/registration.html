{% extends "base.html" %}

{% block content %}
<div class="container my-5 col-md-6 px-5 py-5" style="border:1px solid black;background: white;">
   <h3 class="mb-5 text-center">Register yourself for Secret Santa</h3>
   <form action="" method="POST" enctype="multipart/form-data" class="row g-3 needs-validation" novalidate>

      {{ form.hidden_tag() }}

      <div class="row mb-3">
         <!-- First name -->
         <div class="col col-md-6">
            <label for="first_name" class="form-label">First name</label>
            {{ form.first_name(class_="form-control", id_="first_name") }}
            {% for error in form.first_name.errors %}
            <div class="text-danger">
               {{ error }}
            </div>
            {% endfor %}
         </div>

         <!-- Last name -->
         <div class="col col-md-6">
            <label for="last_name" class="form-label">Last name</label>
            {{ form.last_name(class_="form-control", id_="last_name") }}
            {% for error in form.last_name.errors %}
            <div class="text-danger">
               {{ error }}
            </div>
            {% endfor %}
         </div>
      </div>

      <div class="row mb-3">
         <!-- Employee ID -->
         <div class="col col-md-6">
            <label for="employee_id" class="form-label">Employee ID</label>
            {{ form.employee_id(class_="form-control", id_="employee_id") }}
            {% for error in form.employee_id.errors %}
            <div class="text-danger">
               {{ error }}
            </div>
            {% endfor %}
         </div>

         <!-- Email ID -->
         <div class="col col-md-6">
            <label for="email" class="form-label">Email ID</label>
            <div class="input-group has-validation">
               <span class="input-group-text" id="inputGroupPrepend">@</span>
               {{ form.email(class_="form-control", id_="email")}}
            </div>
            {% for error in form.email.errors %}
            <div class="text-danger">
               {{ error }}
            </div>
            {% endfor %}
         </div>
      </div>


      <div class="row mb-3">
         <!-- Mobile Number -->
         <div class="col col-md-6">
            <label for="mobile_number" class="form-label">Mobile Number</label>
            {{ form.mobile_number(class_="form-control", id_="mobile_number")}}
            {% for error in form.mobile_number.errors %}
            <div class="text-danger">
               {{ error }}
            </div>
            {% endfor %}
         </div>

         <!-- Gift Image -->
         <div class="col col-md-6">
            <label for="gift-image" class="form-label">Gift Image</label>
            {{ form.gift_image(class_="form-control", id_="gift-image")}}
            {% for error in form.gift_image.errors %}
            <div class="text-danger">
               {{ error }}
            </div>
            {% endfor %}
         </div>
      </div>

      <div class="row mb-3">
         <div class="col col-md-12">
            <label for="address" class="form-label">Address</label>
            {{ form.address(class_="form-control", id_="address")}}
            {% for error in form.address.errors %}
            <div class="text-danger">
               {{ error }}
            </div>
            {% endfor %}
         </div>
      </div>

      <div class="row mb-3">
         <div class="col col-lg-1 mx-auto my-auto">
            {{ form.submit(class_="btn btn-primary") }}
         </div>
      </div>
   </form>
   {% for category, message in get_flashed_messages(with_categories=true) %}
   <div class="alert alert-{{ category }}">
      {{ message }}
   </div>
   {% endfor %}
</div>
<div class="container-fluid mt-4 text-center">
   {% if total %}
   <p style="color:white;">{{ total }} of your colleagues have registered, register now to join them and not miss the fun.</p>
   {% else %}
   <p style="color:white;">None of your colleagues have registered, register now to start the fun.</p>
   {% endif %}
</div>

{% endblock %}